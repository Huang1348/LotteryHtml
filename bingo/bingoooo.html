<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Bingo ÊäΩÂ•ñËÄÅËôéÊú∫</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --ball-size: 2.4rem;
      --mask-color: #f85570;
      --ball-bg: linear-gradient(145deg, #e6eaea 60%, #f6faff 100%);
      --ball-shadow: 0 2px 16px 0 rgba(60,100,180,0.15), 0 1px 5px rgba(80,90,120,0.12);
      --glass: rgba(255,255,255,0.4);
      --glass-blur: blur(12px);
      --table-max-width: 95vw;
      --table-radius: 22px;
      --accent: #24b0ef;
      --accent-dark: #157fb0;
    }
    html, body {
      min-height: 100vh;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', 'PingFang SC', Arial, Helvetica, sans-serif;
      background: linear-gradient(120deg, #c1d8fa 0%, #a8edea 100%);
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .container {
      margin-top: 2.5vh;
      width: 100%;
      max-width: var(--table-max-width);
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .bingo-table-outer {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      border-radius: var(--table-radius);
      overflow: hidden;
      box-shadow: 0 6px 38px -12px rgba(60,60,170,0.13), 0 2px 8px rgba(90,130,200,0.09);
      background: var(--glass);
      backdrop-filter: var(--glass-blur);
      border: 1.5px solid rgba(255,255,255,0.33);
      position: relative;
      margin-bottom: 2.8rem;
    }
    .bingo-table {
      border-collapse: separate;
      border-spacing: 0;
      width: 100%;
      table-layout: fixed;
      min-width: 340px;
    }
    .bingo-table th, .bingo-table td {
      text-align: center;
      vertical-align: middle;
      padding: 0.2rem;
      background: transparent;
    }
    .bingo-title-cell {
      font-size: 2.1rem;
      font-weight: bold;
      letter-spacing: 0.25em;
      color: var(--accent-dark);
      width: 2.7em;
      background: none;
      border-right: 2.5px solid rgba(100,180,255,0.15);
      text-shadow: 0 1px 0 #fff, 0 2px 2px rgba(0,0,60,0.04);
      backdrop-filter: blur(2px);
      user-select: none;
    }
    .bingo-ball {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: var(--ball-size);
      height: var(--ball-size);
      margin: 0.09rem;
      border-radius: 50%;
      background: var(--ball-bg);
      box-shadow: var(--ball-shadow);
      font-size: 1.13rem;
      font-weight: 500;
      color: #1a2560;
      transition: background 0.25s, color 0.2s, box-shadow 0.22s;
      position: relative;
      cursor: default;
      user-select: none;
      border: 2px solid rgba(150,200,255,0.10);
      overflow: hidden;
    }
    .bingo-ball::after {
      content: '';
      position: absolute;
      top: 13%;
      left: 18%;
      width: 24%;
      height: 16%;
      background: linear-gradient(120deg,rgba(255,255,255,0.45),rgba(255,255,255,0.1));
      border-radius: 50%;
      pointer-events: none;
      filter: blur(0.5px);
    }
    .bingo-ball.masked {
      background: radial-gradient(circle at 55% 25%, #fbc2c6 10%, #f85570 100%);
      color: #fff;
      font-weight: bold;
      filter: brightness(0.94) grayscale(0.13);
      box-shadow: 0 0 0 2.5px #f85570, 0 2px 10px 0 rgba(222,70,110,0.24);
      border: 2.5px solid #f85570;
      z-index: 1;
      animation: bounce-mask 0.32s;
    }
    @keyframes bounce-mask {
      0% { transform: scale(1.1);}
      60% { transform: scale(0.90);}
      100% { transform: scale(1);}
    }

    /* ------ ËÄÅËôéÊú∫Âå∫Âüü ------ */
    .slot-area {
      width: 100%;
      max-width: 480px;
      margin: 1.5rem auto 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      gap: 1.1rem;
      min-height: 10rem;
    }
    .slots {
      display: flex;
      gap: 18px;
      justify-content: center;
      align-items: center;
      margin-bottom: 30px;
    }
    .slot {
      width: 60px;
      height: 100px;
      font-size: 3em;
      font-weight: bold;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.18);
      border-radius: 18px;
      box-shadow: 0 4px 32px rgba(0,0,0,0.15);
      backdrop-filter: blur(10px);
      overflow: hidden;
      position: relative;
      transition: box-shadow 0.18s, background 0.23s;
      user-select: none;
      letter-spacing: 0.04em;
    }
    .slot .number, .slot .letter {
      z-index: 2;
      position: relative;
      pointer-events: none;
    }
    .slot .shine {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(120deg,rgba(255,255,255,0.33) 0%,rgba(255,255,255,0.06) 100%);
      border-radius: 18px;
      pointer-events: none;
      z-index: 1;
    }
    .slot-btn-group {
      display:flex;
      flex-direction: row;
      gap: 1.1rem;
      justify-content: center;
      margin-top: 0.2rem;
    }
    .slot-btn {
      padding: 0.78em 2.4em;
      border-radius: 2.3em;
      background: linear-gradient(100deg, #24b0ef 60%, #157fb0 100%);
      box-shadow: 0 1px 6px -1px #24b0ef88;
      color: #fff;
      font-weight: bold;
      font-size: 1.23rem;
      border: none;
      outline: none;
      cursor: pointer;
      letter-spacing: 0.06em;
      transition: background 0.18s, box-shadow 0.17s;
      user-select: none;
    }
    .slot-btn:disabled {
      background: #c1e7fd;
      color: #a8c6d8;
      cursor: not-allowed;
      box-shadow: none;
    }
    .slot-btn.reset {
      background: linear-gradient(100deg, #f85570 60%, #e2b2c3 100%);
      color: #fff;
      box-shadow: 0 1px 8px -1px #f85570aa;
    }
    .slot-btn.reset:disabled {
      background: #fbc2c6;
      color: #fff8;
    }
    /* Responsive Design */
    @media (max-width: 700px) {
      .bingo-table-outer { max-width: 100vw; }
      .slot-area { max-width: 98vw;}
      .slots { gap: 10px; }
      .slot { width: 38px; height: 60px; font-size: 1.6em; }
      :root { --ball-size: 1.7rem; }
    }
    @media (max-width: 480px) {
      .bingo-table-outer { max-width: 99vw;}
      .slot-area { max-width: 99vw;}
      .bingo-title-cell { font-size: 1.2rem;}
      .slot { font-size: 1em; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="bingo-table-outer">
      <table class="bingo-table" id="bingo-table">
        <!-- Âä®ÊÄÅÊèíÂÖ•ÂÜÖÂÆπ -->
      </table>
    </div>
    <div class="slot-area">
      <div class="slots">
        <div class="slot" id="slot-letter">
          <span class="letter">?</span>
          <span class="shine"></span>
        </div>
        <div class="slot" id="slot-tens">
          <span class="number">?</span>
          <span class="shine"></span>
        </div>
        <div class="slot" id="slot-ones">
          <span class="number">?</span>
          <span class="shine"></span>
        </div>
      </div>
      <div class="slot-btn-group">
        <button class="slot-btn" id="start-btn">Start</button>
        <button class="slot-btn reset" id="reset-btn">Reset</button>
      </div>
    </div>
  </div>
  <script>
    // ÈÖçÁΩÆ
    const BINGO_CONFIG = [
      { letter: 'B', start: 1,   end: 20 },
      { letter: 'I', start: 21,  end: 40 },
      { letter: 'N', start: 41,  end: 60 },
      { letter: 'G', start: 61,  end: 80 },
      { letter: 'O', start: 81,  end: 100 }
    ];

    let bingoNumbers = [];
    let drawnNumbers = [];
    let isRolling = false;
    let currentDrawn = null;

    // ÊûÑÂª∫bingoË°®Ê†º
    function buildBingoTable() {
      const table = document.getElementById('bingo-table');
      table.innerHTML = '';
      for (let row = 0; row < 5; row++) {
        const tr = document.createElement('tr');
        // title cell
        const th = document.createElement('th');
        th.className = 'bingo-title-cell';
        th.innerText = BINGO_CONFIG[row].letter;
        tr.appendChild(th);
        // balls
        for (let i = 0; i < 20; i++) {
          const num = BINGO_CONFIG[row].start + i;
          const td = document.createElement('td');
          const ball = document.createElement('div');
          ball.className = 'bingo-ball';
          ball.innerText = num;
          ball.dataset.letter = BINGO_CONFIG[row].letter;
          ball.dataset.number = num;
          td.appendChild(ball);
          tr.appendChild(td);
        }
        table.appendChild(tr);
      }
    }

    // ÂàùÂßãÂåñ
    function resetBingo() {
      bingoNumbers = [];
      drawnNumbers = [];
      for (let row = 0; row < 5; row++) {
        for (let i = 0; i < 20; i++) {
          bingoNumbers.push({
            letter: BINGO_CONFIG[row].letter,
            number: BINGO_CONFIG[row].start + i
          });
        }
      }
      buildBingoTable();
      document.querySelectorAll('.bingo-ball').forEach(ball => {
        ball.classList.remove('masked');
      });
      setSlotDisplay('?', '?', '?');
      enableStart(true);
      currentDrawn = null;
    }

    // ËÆæÁΩÆËÄÅËôéÊú∫ slot ÊòæÁ§∫
    function setSlotDisplay(letter, tens, ones) {
      document.querySelector('#slot-letter .letter').textContent = letter;
      document.querySelector('#slot-tens .number').textContent = tens;
      document.querySelector('#slot-ones .number').textContent = ones;
    }

    // ÊåâÈíÆÂèØÁî®Áä∂ÊÄÅ
    function enableStart(enabled) {
      document.getElementById('start-btn').disabled = !enabled;
    }

    // Âä®ÁîªÂáΩÊï∞
    function animateMainSlot(slotEl, finalValue, isLetter, duration = 1100, callback) {
      function easeOutQuad(t) { return t * (2 - t); }
      let start = null;
      const values = isLetter ? ['B','I','N','G','O'] : [0,1,2,3,4,5,6,7,8,9];
      let frame = 0;
      function roll(ts) {
        if (!start) start = ts;
        const elapsed = ts - start;
        const progress = Math.min(elapsed / duration, 1);
        const eased = easeOutQuad(progress);
        // Âä®ÊÄÅÊéßÂà∂ÂàáÊç¢ÈÄüÂ∫¶
        const frameInterval = 45 + eased * 90;
        if (elapsed % frameInterval < 20) {
          let randIdx = Math.floor(Math.random() * values.length);
          if (isLetter) {
            slotEl.querySelector('.letter').textContent = values[randIdx];
          } else {
            slotEl.querySelector('.number').textContent = values[randIdx];
          }
        }
        if (progress < 1) requestAnimationFrame(roll);
        else {
          if (isLetter) {
            slotEl.querySelector('.letter').textContent = finalValue;
          } else {
            slotEl.querySelector('.number').textContent = finalValue;
          }
          callback && callback();
        }
      }
      requestAnimationFrame(roll);
    }

    // ÁúüÊ≠£ÂºÄÂ•ñ
    function drawBingoNumber() {
      if (isRolling) return;
      let candidates = bingoNumbers.filter(item => !drawnNumbers.some(d => d.letter === item.letter && d.number === item.number));
      if (candidates.length === 0) {
        setSlotDisplay('üéâ','E','N');
        enableStart(false);
        return;
      }
      isRolling = true;
      enableStart(false);

      // ÈöèÊú∫ÊäΩ‰∏Ä‰∏™
      const idx = Math.floor(Math.random() * candidates.length);
      const drawn = candidates[idx];
      drawnNumbers.push(drawn);
      currentDrawn = drawn;

      // ÂàÜËß£Êï∞Â≠ó
      const letter = drawn.letter;
      const number = drawn.number;
      let tens = Math.floor(number / 10);
      let ones = number % 10;
      // ‰∏§‰ΩçÊï∞Â§ÑÁêÜ
      if (number < 10) {
        tens = 0;
        ones = number;
      }
      // 1. slotsÂä®Áîª: letter/tens/ones‰æùÊ¨°ÂÅú‰∏ã
      animateMainSlot(document.getElementById('slot-letter'), letter, true, 1100, () => {
        animateMainSlot(document.getElementById('slot-tens'), tens, false, 1200, () => {
          animateMainSlot(document.getElementById('slot-ones'), ones, false, 1400, () => {
            // maskË°®Ê†ºÁêÉ
            document.querySelectorAll('.bingo-ball').forEach(ball => {
              if (ball.dataset.letter === letter && Number(ball.dataset.number) === number) {
                ball.classList.add('masked');
              }
            });
            // Âà§Êñ≠ÊòØÂê¶ÁªìÊùü
            let rest = bingoNumbers.filter(item => !drawnNumbers.some(d => d.letter === item.letter && d.number === item.number));
            if (rest.length === 0) {
              enableStart(false);
            } else {
              enableStart(true);
            }
            isRolling = false;
          });
        });
      });
    }

    document.addEventListener('DOMContentLoaded', function() {
      resetBingo();

      document.getElementById('start-btn').addEventListener('click', function() {
        if (!isRolling) drawBingoNumber();
      });
      document.getElementById('reset-btn').addEventListener('click', function() {
        isRolling = false;
        resetBingo();
      });
    });
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Bingo ÊäΩÂ•ñËÄÅËôéÊú∫</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --ball-size: 2.4rem;
      --mask-color: #f85570;
      --ball-bg: linear-gradient(145deg, #e6eaea 60%, #f6faff 100%);
      --ball-shadow: 0 2px 16px 0 rgba(60,100,180,0.15), 0 1px 5px rgba(80,90,120,0.12);
      --glass: rgba(255,255,255,0.4);
      --glass-blur: blur(12px);
      --table-max-width: 95vw;
      --table-radius: 22px;
      --accent: #24b0ef;
      --accent-dark: #157fb0;
    }
    html, body {
      min-height: 100vh;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', 'PingFang SC', Arial, Helvetica, sans-serif;
      background: linear-gradient(120deg, #c1d8fa 0%, #a8edea 100%);
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .container {
      margin-top: 2.5vh;
      width: 100%;
      max-width: var(--table-max-width);
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .bingo-table-outer {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      border-radius: var(--table-radius);
      overflow: hidden;
      box-shadow: 0 6px 38px -12px rgba(60,60,170,0.13), 0 2px 8px rgba(90,130,200,0.09);
      background: var(--glass);
      backdrop-filter: var(--glass-blur);
      border: 1.5px solid rgba(255,255,255,0.33);
      position: relative;
      margin-bottom: 2.8rem;
    }
    .bingo-table {
      border-collapse: separate;
      border-spacing: 0;
      width: 100%;
      table-layout: fixed;
      min-width: 340px;
    }
    .bingo-table th, .bingo-table td {
      text-align: center;
      vertical-align: middle;
      padding: 0.2rem;
      background: transparent;
    }
    .bingo-title-cell {
      font-size: 2.1rem;
      font-weight: bold;
      letter-spacing: 0.25em;
      color: var(--accent-dark);
      width: 2.7em;
      background: none;
      border-right: 2.5px solid rgba(100,180,255,0.15);
      text-shadow: 0 1px 0 #fff, 0 2px 2px rgba(0,0,60,0.04);
      backdrop-filter: blur(2px);
      user-select: none;
    }
    .bingo-ball {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: var(--ball-size);
      height: var(--ball-size);
      margin: 0.09rem;
      border-radius: 50%;
      background: var(--ball-bg);
      box-shadow: var(--ball-shadow);
      font-size: 1.13rem;
      font-weight: 500;
      color: #1a2560;
      transition: background 0.25s, color 0.2s, box-shadow 0.22s;
      position: relative;
      cursor: default;
      user-select: none;
      border: 2px solid rgba(150,200,255,0.10);
      overflow: hidden;
    }
    .bingo-ball::after {
      content: '';
      position: absolute;
      top: 13%;
      left: 18%;
      width: 24%;
      height: 16%;
      background: linear-gradient(120deg,rgba(255,255,255,0.45),rgba(255,255,255,0.1));
      border-radius: 50%;
      pointer-events: none;
      filter: blur(0.5px);
    }
    .bingo-ball.masked {
      background: radial-gradient(circle at 55% 25%, #fbc2c6 10%, #f85570 100%);
      color: #fff;
      font-weight: bold;
      filter: brightness(0.94) grayscale(0.13);
      box-shadow: 0 0 0 2.5px #f85570, 0 2px 10px 0 rgba(222,70,110,0.24);
      border: 2.5px solid #f85570;
      z-index: 1;
      animation: bounce-mask 0.32s;
    }
    @keyframes bounce-mask {
      0% { transform: scale(1.1);}
      60% { transform: scale(0.90);}
      100% { transform: scale(1);}
    }

    /* ------ ËÄÅËôéÊú∫Âå∫Âüü ------ */
    .slot-area {
      width: 100%;
      max-width: 480px;
      margin: 1.5rem auto 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      gap: 1.1rem;
      min-height: 10rem;
    }
    .slots {
      display: flex;
      gap: 18px;
      justify-content: center;
      align-items: center;
      margin-bottom: 30px;
    }
    .slot {
      width: 60px;
      height: 100px;
      font-size: 3em;
      font-weight: bold;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.18);
      border-radius: 18px;
      box-shadow: 0 4px 32px rgba(0,0,0,0.15);
      backdrop-filter: blur(10px);
      overflow: hidden;
      position: relative;
      transition: box-shadow 0.18s, background 0.23s;
      user-select: none;
      letter-spacing: 0.04em;
    }
    .slot .number, .slot .letter {
      z-index: 2;
      position: relative;
      pointer-events: none;
    }
    .slot .shine {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(120deg,rgba(255,255,255,0.33) 0%,rgba(255,255,255,0.06) 100%);
      border-radius: 18px;
      pointer-events: none;
      z-index: 1;
    }
    .slot-btn-group {
      display:flex;
      flex-direction: row;
      gap: 1.1rem;
      justify-content: center;
      margin-top: 0.2rem;
    }
    .slot-btn {
      padding: 0.78em 2.4em;
      border-radius: 2.3em;
      background: linear-gradient(100deg, #24b0ef 60%, #157fb0 100%);
      box-shadow: 0 1px 6px -1px #24b0ef88;
      color: #fff;
      font-weight: bold;
      font-size: 1.23rem;
      border: none;
      outline: none;
      cursor: pointer;
      letter-spacing: 0.06em;
      transition: background 0.18s, box-shadow 0.17s;
      user-select: none;
    }
    .slot-btn:disabled {
      background: #c1e7fd;
      color: #a8c6d8;
      cursor: not-allowed;
      box-shadow: none;
    }
    .slot-btn.reset {
      background: linear-gradient(100deg, #f85570 60%, #e2b2c3 100%);
      color: #fff;
      box-shadow: 0 1px 8px -1px #f85570aa;
    }
    .slot-btn.reset:disabled {
      background: #fbc2c6;
      color: #fff8;
    }
    /* Responsive Design */
    @media (max-width: 700px) {
      .bingo-table-outer { max-width: 100vw; }
      .slot-area { max-width: 98vw;}
      .slots { gap: 10px; }
      .slot { width: 38px; height: 60px; font-size: 1.6em; }
      :root { --ball-size: 1.7rem; }
    }
    @media (max-width: 480px) {
      .bingo-table-outer { max-width: 99vw;}
      .slot-area { max-width: 99vw;}
      .bingo-title-cell { font-size: 1.2rem;}
      .slot { font-size: 1em; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="bingo-table-outer">
      <table class="bingo-table" id="bingo-table">
        <!-- Âä®ÊÄÅÊèíÂÖ•ÂÜÖÂÆπ -->
      </table>
    </div>
    <div class="slot-area">
      <div class="slots">
        <div class="slot" id="slot-letter">
          <span class="letter">?</span>
          <span class="shine"></span>
        </div>
        <div class="slot" id="slot-tens">
          <span class="number">?</span>
          <span class="shine"></span>
        </div>
        <div class="slot" id="slot-ones">
          <span class="number">?</span>
          <span class="shine"></span>
        </div>
      </div>
      <div class="slot-btn-group">
        <button class="slot-btn" id="start-btn">Start</button>
        <button class="slot-btn reset" id="reset-btn">Reset</button>
      </div>
    </div>
  </div>
  <script>
    // ÈÖçÁΩÆ
    const BINGO_CONFIG = [
      { letter: 'B', start: 1,   end: 20 },
      { letter: 'I', start: 21,  end: 40 },
      { letter: 'N', start: 41,  end: 60 },
      { letter: 'G', start: 61,  end: 80 },
      { letter: 'O', start: 81,  end: 100 }
    ];

    let bingoNumbers = [];
    let drawnNumbers = [];
    let isRolling = false;
    let currentDrawn = null;

    // ÊûÑÂª∫bingoË°®Ê†º
    function buildBingoTable() {
      const table = document.getElementById('bingo-table');
      table.innerHTML = '';
      for (let row = 0; row < 5; row++) {
        const tr = document.createElement('tr');
        // title cell
        const th = document.createElement('th');
        th.className = 'bingo-title-cell';
        th.innerText = BINGO_CONFIG[row].letter;
        tr.appendChild(th);
        // balls
        for (let i = 0; i < 20; i++) {
          const num = BINGO_CONFIG[row].start + i;
          const td = document.createElement('td');
          const ball = document.createElement('div');
          ball.className = 'bingo-ball';
          ball.innerText = num;
          ball.dataset.letter = BINGO_CONFIG[row].letter;
          ball.dataset.number = num;
          td.appendChild(ball);
          tr.appendChild(td);
        }
        table.appendChild(tr);
      }
    }

    // ÂàùÂßãÂåñ
    function resetBingo() {
      bingoNumbers = [];
      drawnNumbers = [];
      for (let row = 0; row < 5; row++) {
        for (let i = 0; i < 20; i++) {
          bingoNumbers.push({
            letter: BINGO_CONFIG[row].letter,
            number: BINGO_CONFIG[row].start + i
          });
        }
      }
      buildBingoTable();
      document.querySelectorAll('.bingo-ball').forEach(ball => {
        ball.classList.remove('masked');
      });
      setSlotDisplay('?', '?', '?');
      enableStart(true);
      currentDrawn = null;
    }

    // ËÆæÁΩÆËÄÅËôéÊú∫ slot ÊòæÁ§∫
    function setSlotDisplay(letter, tens, ones) {
      document.querySelector('#slot-letter .letter').textContent = letter;
      document.querySelector('#slot-tens .number').textContent = tens;
      document.querySelector('#slot-ones .number').textContent = ones;
    }

    // ÊåâÈíÆÂèØÁî®Áä∂ÊÄÅ
    function enableStart(enabled) {
      document.getElementById('start-btn').disabled = !enabled;
    }

    // Âä®ÁîªÂáΩÊï∞
    function animateMainSlot(slotEl, finalValue, isLetter, duration = 1100, callback) {
      function easeOutQuad(t) { return t * (2 - t); }
      let start = null;
      const values = isLetter ? ['B','I','N','G','O'] : [0,1,2,3,4,5,6,7,8,9];
      let frame = 0;
      function roll(ts) {
        if (!start) start = ts;
        const elapsed = ts - start;
        const progress = Math.min(elapsed / duration, 1);
        const eased = easeOutQuad(progress);
        // Âä®ÊÄÅÊéßÂà∂ÂàáÊç¢ÈÄüÂ∫¶
        const frameInterval = 45 + eased * 90;
        if (elapsed % frameInterval < 20) {
          let randIdx = Math.floor(Math.random() * values.length);
          if (isLetter) {
            slotEl.querySelector('.letter').textContent = values[randIdx];
          } else {
            slotEl.querySelector('.number').textContent = values[randIdx];
          }
        }
        if (progress < 1) requestAnimationFrame(roll);
        else {
          if (isLetter) {
            slotEl.querySelector('.letter').textContent = finalValue;
          } else {
            slotEl.querySelector('.number').textContent = finalValue;
          }
          callback && callback();
        }
      }
      requestAnimationFrame(roll);
    }

    // ÁúüÊ≠£ÂºÄÂ•ñ
    function drawBingoNumber() {
      if (isRolling) return;
      let candidates = bingoNumbers.filter(item => !drawnNumbers.some(d => d.letter === item.letter && d.number === item.number));
      if (candidates.length === 0) {
        setSlotDisplay('üéâ','E','N');
        enableStart(false);
        return;
      }
      isRolling = true;
      enableStart(false);

      // ÈöèÊú∫ÊäΩ‰∏Ä‰∏™
      const idx = Math.floor(Math.random() * candidates.length);
      const drawn = candidates[idx];
      drawnNumbers.push(drawn);
      currentDrawn = drawn;

      // ÂàÜËß£Êï∞Â≠ó
      const letter = drawn.letter;
      const number = drawn.number;
      let tens = Math.floor(number / 10);
      let ones = number % 10;
      // ‰∏§‰ΩçÊï∞Â§ÑÁêÜ
      if (number < 10) {
        tens = 0;
        ones = number;
      }
      // 1. slotsÂä®Áîª: letter/tens/ones‰æùÊ¨°ÂÅú‰∏ã
      animateMainSlot(document.getElementById('slot-letter'), letter, true, 1100, () => {
        animateMainSlot(document.getElementById('slot-tens'), tens, false, 1200, () => {
          animateMainSlot(document.getElementById('slot-ones'), ones, false, 1400, () => {
            // maskË°®Ê†ºÁêÉ
            document.querySelectorAll('.bingo-ball').forEach(ball => {
              if (ball.dataset.letter === letter && Number(ball.dataset.number) === number) {
                ball.classList.add('masked');
              }
            });
            // Âà§Êñ≠ÊòØÂê¶ÁªìÊùü
            let rest = bingoNumbers.filter(item => !drawnNumbers.some(d => d.letter === item.letter && d.number === item.number));
            if (rest.length === 0) {
              enableStart(false);
            } else {
              enableStart(true);
            }
            isRolling = false;
          });
        });
      });
    }

    document.addEventListener('DOMContentLoaded', function() {
      resetBingo();

      document.getElementById('start-btn').addEventListener('click', function() {
        if (!isRolling) drawBingoNumber();
      });
      document.getElementById('reset-btn').addEventListener('click', function() {
        isRolling = false;
        resetBingo();
      });
    });
  </script>
</body>
</html>
